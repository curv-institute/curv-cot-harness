# Agent Prompt — Run Experiment 003 (Heterogeneous targets: Claude + all GPT-5.2)

Archive this prompt as:
- AGENT/<UNIXTIME>-in.md

---

## Objective

Run Experiment 003 to measure cross-family trace transfer and agreement/collapse behavior when adding all GPT-5.2 target models.

This remains a baseline run: no harmonization, no selector, no verifier coupling.

---

## Single Experiment Axis (Mandatory)

Axis: target heterogeneity (Claude-only → Claude + GPT-5.2 family).

Everything else stays fixed versus Experiment 002:
- Same dataset: 60 arithmetic word problems
- Same proposer: Claude Sonnet 4.5
- Same prompts
- Deterministic decoding (temperature=0 or provider-equivalent)

---

## Models

**Proposer (fixed)**
- Claude Sonnet 4.5

**Claude targets (same as Experiment 002)**
- Claude Opus 4.5
- Claude Sonnet 4.5 (as a target)
- Claude Haiku

**GPT targets (add all GPT-5.2 models)**
- Include every target model accessible via Codex CLI whose model id matches the pattern:
  - gpt-5.2*

Examples (do not assume these are exhaustive):
- gpt-5.2
- gpt-5.2-mini
- gpt-5.2-nano

---

## Run Name

Use:
- v0.1.2-baseline-multitarget-claude-plus-gpt52-20260120

If running on a different date, update the suffix but keep the tag.

---

## Pre-Run Checks (Mandatory)

1. Confirm dataset exists and is unchanged:
   - eval/datasets/arithmetic60.jsonl
2. Determinism:
   - temperature = 0
   - top_p fixed (if available)
   - max tokens fixed (if available)
3. CLI integration:
   - Confirm scripts/run_baseline.py run_cli() works for both:
     - Claude CLI
     - Codex CLI
4. Enumerate GPT-5.2 targets:
   - Use your Codex CLI's model listing command (or equivalent) to produce a text file containing the exact list of available models.
   - Filter to models matching gpt-5.2*.
   - Save the raw list output under:
     ```
     eval/results/<run_name>/manifests/codex_models_list.txt
     ```
5. Record versions:
   - Save claude --version output (or equivalent) to .../manifests/claude_cli_version.txt
   - Save codex --version output (or equivalent) to .../manifests/codex_cli_version.txt

---

## Execution Command

You will run the baseline runner once, with targets including the three Claude targets plus all GPT-5.2 targets.

### 1) Claude targets

Replace placeholders with your actual Claude model IDs:
- <SONNET_4_5_ID>
- <OPUS_4_5_ID>
- <HAIKU_ID>

### 2) GPT-5.2 targets

For each Codex model id matching gpt-5.2*, add one argument in the format:
- codex:<MODEL_ID>:<NAME>

Example targets (extend to include all GPT-5.2 models you have):
- codex:gpt-5.2:gpt52
- codex:gpt-5.2-mini:gpt52_mini
- codex:gpt-5.2-nano:gpt52_nano

### Full command template

```bash
uv run scripts/run_baseline.py \
  v0.1.2-baseline-multitarget-claude-plus-gpt52-20260120 \
  eval/datasets/arithmetic60.jsonl \
  claude <SONNET_4_5_ID> \
  claude:<OPUS_4_5_ID>:opus_4_5 \
  claude:<SONNET_4_5_ID>:sonnet_4_5_tgt \
  claude:<HAIKU_ID>:haiku \
  codex:<GPT52_ID_1>:gpt52_1 \
  codex:<GPT52_ID_2>:gpt52_2 \
  codex:<GPT52_ID_3>:gpt52_3
```

Replace the codex:<...> lines with the complete set of gpt-5.2* models.

---

## Required Outputs

Verify the following exist under:
- eval/results/v0.1.2-baseline-multitarget-claude-plus-gpt52-20260120/

Required:
- manifest.json
- config.json
- prompts/ (3 prompt templates)
- traces/proposer.jsonl
- traces/injected.jsonl
- judgments/answers_with_trace.jsonl
- judgments/answers_no_trace.jsonl
- judgments/correctness.jsonl
- metrics.jsonl
- summary.json
- report.md

Additional required provenance files:
- manifests/codex_models_list.txt
- manifests/claude_cli_version.txt
- manifests/codex_cli_version.txt

---

## Report Requirements (Scope-Limited)

In report.md, answer only:
1. Did trace injection increase pairwise agreement across all targets?
2. Did trace injection increase per-target accuracy?
3. Did agreement-on-wrong (consistent-wrong) increase?

No speculation beyond computed metrics.

---

## Version Control (Mandatory)

After the run completes and artifacts are verified:

```bash
jj commit
jj git push
```

Commit message (imperative):
- Add Experiment 003 Claude+GPT-5.2 baseline results

Also archive:
- AGENT/<UNIXTIME>-out.md with the run summary (including target model list).

---

## Stop Condition

Stop after push is complete. Do not proceed to harmonized traces or any new dataset unless instructed.
